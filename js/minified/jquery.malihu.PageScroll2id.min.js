/* == Page scroll to id == Version: 1.6.6, License: MIT License (MIT) */
!function(e,t,a,i){var n,l,s,o,r,c,u,h,d,f,g,p,m={scrollSpeed:1e3,autoScrollSpeed:!0,scrollEasing:"easeInOutQuint",scrollingEasing:"easeOutQuint",pageEndSmoothScroll:!0,layout:"vertical",offset:0,highlightSelector:!1,clickedClass:"mPS2id-clicked",targetClass:"mPS2id-target",highlightClass:"mPS2id-highlight",forceSingleHighlight:!1,keepHighlightUntilNext:!1,highlightByNextTarget:!1,disablePluginBelow:!1,clickEvents:!0,appendHash:!1,onStart:function(){},onComplete:function(){},defaultSelector:!1,live:!0,liveSelector:!1,excludeSelectors:!1,encodeLinks:!1},S=0,_=/[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/,C={init:function(i){i=e.extend(!0,{},m,i);if(e(a).data("mPS2id",i),l=e(a).data("mPS2id"),!this.selector){this.each(function(){var t=e(this);t.hasClass("__mPS2id")||t.addClass("__mPS2id")}),this.selector=".__mPS2id"}l.liveSelector&&(this.selector+=","+l.liveSelector),n=n?n+","+this.selector:this.selector,l.defaultSelector&&("object"==typeof e(n)&&0!==e(n).length||(n=".m_PageScroll2id,a[rel~='m_PageScroll2id'],.page-scroll-to-id,a[rel~='page-scroll-to-id'],._ps2id")),l.clickEvents&&e(a).undelegate(".mPS2id").delegate(n,"click.mPS2id",function(t){if(P._isDisabled.call(null))P._removeClasses.call(null);else{var a=e(this),i=a.attr("href"),n=a.prop("href").baseVal||a.prop("href");l.excludeSelectors&&a.is(l.excludeSelectors)||i&&-1!==i.indexOf("#/")||(P._reset.call(null),f=a.data("ps2id-offset")||0,P._isValid.call(null,i,n)&&P._findTarget.call(null,i)&&(t.preventDefault(),o="selector",r=a,P._setClasses.call(null,!0),P._scrollTo.call(null)))}}),e(t).unbind(".mPS2id").bind("scroll.mPS2id resize.mPS2id",function(){if(P._isDisabled.call(null))P._removeClasses.call(null);else{var t=e("._mPS2id-t");t.each(function(a){var i=e(this),n=i.attr("id"),l=P._findHighlight.call(null,n);P._setClasses.call(null,!1,i,l),a==t.length-1&&P._extendClasses.call(null)})}}),s=!0,P._setup.call(null),P._live.call(null)},scrollTo:function(t,a){if(P._isDisabled.call(null))P._removeClasses.call(null);else if(t&&void 0!==t){P._isInit.call(null);var i={layout:l.layout,offset:l.offset,clicked:!1};a=e.extend(!0,{},i,a);P._reset.call(null),h=a.layout,d=a.offset,t=-1!==t.indexOf("#")?t:"#"+t,P._isValid.call(null,t)&&P._findTarget.call(null,t)&&(o="scrollTo",(r=a.clicked)&&P._setClasses.call(null,!0),P._scrollTo.call(null))}},destroy:function(){e(t).unbind(".mPS2id"),e(a).undelegate(".mPS2id").removeData("mPS2id"),e("._mPS2id-t").removeData("mPS2id"),P._removeClasses.call(null,!0)}},P={_isDisabled:function(){var e=t,i="inner",n=l.disablePluginBelow instanceof Array?[l.disablePluginBelow[0]||0,l.disablePluginBelow[1]||0]:[l.disablePluginBelow||0,0];return"innerWidth"in t||(i="client",e=a.documentElement||a.body),e[i+"Width"]<=n[0]||e[i+"Height"]<=n[1]},_isValid:function(e,a){if(e){var i=-1!==(a=a||e).indexOf("#/")?a.split("#/")[0]:a.split("#")[0],n=(t.location!==t.parent.location?t.parent.location:t.location).toString().split("#")[0];return"#"!==e&&-1!==e.indexOf("#")&&(""===i||decodeURIComponent(i)===decodeURIComponent(n))}},_setup:function(){var t=P._highlightSelector(),i=1,n=0;return e(t).each(function(){var s=e(this),o=s.attr("href"),r=s.prop("href").baseVal||s.prop("href");if(P._isValid.call(null,o,r)){if(l.excludeSelectors&&s.is(l.excludeSelectors))return;var c=-1!==o.indexOf("#/")?o.split("#/")[1]:o.substring(o.indexOf("#")+1),u=_.test(c)?e(a.getElementById(c)):e("#"+c);if(u.length>0){l.highlightByNextTarget&&u!==n&&(n?n.data("mPS2id",{tn:u}):u.data("mPS2id",{tn:"0"}),n=u),u.hasClass("_mPS2id-t")||u.addClass("_mPS2id-t"),u.data("mPS2id",{i:i}),s.hasClass("_mPS2id-h")||s.addClass("_mPS2id-h");var h=P._findHighlight.call(null,c);P._setClasses.call(null,!1,u,h),S=i,++i==e(t).length&&P._extendClasses.call(null)}}})},_highlightSelector:function(){return l.highlightSelector&&""!==l.highlightSelector?l.highlightSelector:n},_findTarget:function(t){var i=-1!==t.indexOf("#/")?t.split("#/")[1]:t.substring(t.indexOf("#")+1),n=_.test(i)?e(a.getElementById(i)):e("#"+i);if(n.length<1||"fixed"===n.css("position")){if("top"!==i)return;n=e("body")}return c=n,h||(h=l.layout),d=P._setOffset.call(null),(u=[(n.offset().top-d[0]).toString(),(n.offset().left-d[1]).toString()])[0]=u[0]<0?0:u[0],u[1]=u[1]<0?0:u[1],u},_setOffset:function(){var t,a,i,n;switch(d||(d=l.offset?l.offset:0),f&&(d=f),typeof d){case"object":case"string":(a=[(t=[d.y?d.y:d,d.x?d.x:d])[0]instanceof jQuery?t[0]:e(t[0]),t[1]instanceof jQuery?t[1]:e(t[1])])[0].length>0?(i=a[0].height(),"fixed"===a[0].css("position")&&(i+=a[0][0].offsetTop)):i=!isNaN(parseFloat(t[0]))&&isFinite(t[0])?parseInt(t[0]):0,a[1].length>0?(n=a[1].width(),"fixed"===a[1].css("position")&&(n+=a[1][0].offsetLeft)):n=!isNaN(parseFloat(t[1]))&&isFinite(t[1])?parseInt(t[1]):0;break;case"function":(t=d.call(null))instanceof Array?(i=t[0],n=t[1]):i=n=t;break;default:i=n=parseInt(d)}return[i,n]},_findHighlight:function(a){var i=t.location!==t.parent.location?t.parent.location:t.location,n=i.toString().split("#")[0],s=i.pathname;if(-1!==n.indexOf("'")&&(n=n.replace("'","\\'")),-1!==s.indexOf("'")&&(s=s.replace("'","\\'")),n=decodeURIComponent(n),s=decodeURIComponent(s),l.encodeLinks){var o=encodeURI(n).toLowerCase(),r=encodeURI(s).toLowerCase();return e("._mPS2id-h[href='#"+a+"'],._mPS2id-h[href='"+n+"#"+a+"'],._mPS2id-h[href='"+s+"#"+a+"'],._mPS2id-h[href='#/"+a+"'],._mPS2id-h[href='"+n+"#/"+a+"'],._mPS2id-h[href='"+s+"#/"+a+"'],._mPS2id-h[href='"+o+"#/"+a+"'],._mPS2id-h[href='"+o+"#"+a+"'],._mPS2id-h[href='"+r+"#/"+a+"'],._mPS2id-h[href='"+r+"#"+a+"']")}return e("._mPS2id-h[href='#"+a+"'],._mPS2id-h[href='"+n+"#"+a+"'],._mPS2id-h[href='"+s+"#"+a+"'],._mPS2id-h[href='#/"+a+"'],._mPS2id-h[href='"+n+"#/"+a+"'],._mPS2id-h[href='"+s+"#/"+a+"']")},_setClasses:function(t,a,i){var n=l.clickedClass,s=l.targetClass,o=l.highlightClass;t&&n&&""!==n?(e("."+n).removeClass(n),r.addClass(n)):a&&s&&""!==s&&i&&o&&""!==o&&(P._currentTarget.call(null,a)?(a.addClass(s),i.addClass(o)):(!l.keepHighlightUntilNext||e("."+o).length>1)&&(a.removeClass(s),i.removeClass(o)))},_extendClasses:function(){var t=l.targetClass,a=l.highlightClass,i=e("."+t),n=e("."+a),s=t+"-first",o=t+"-last",r=a+"-first",c=a+"-last";e("._mPS2id-t").removeClass(s+" "+o),e("._mPS2id-h").removeClass(r+" "+c),l.forceSingleHighlight?l.keepHighlightUntilNext&&i.length>1?(i.slice(0,1).removeClass(t),n.slice(0,1).removeClass(a)):(i.slice(1).removeClass(t),n.slice(1).removeClass(a)):(i.slice(0,1).addClass(s).end().slice(-1).addClass(o),n.slice(0,1).addClass(r).end().slice(-1).addClass(c))},_removeClasses:function(t){e("."+l.clickedClass).removeClass(l.clickedClass),e("."+l.targetClass).removeClass(l.targetClass+" "+l.targetClass+"-first "+l.targetClass+"-last"),e("."+l.highlightClass).removeClass(l.highlightClass+" "+l.highlightClass+"-first "+l.highlightClass+"-last"),t&&(e("._mPS2id-t").removeClass("_mPS2id-t"),e("._mPS2id-h").removeClass("_mPS2id-h"))},_currentTarget:function(a){if(a.data("mPS2id")){var i=l["target_"+a.data("mPS2id").i],n=a.data("ps2id-target"),s=n&&e(n)[0]?e(n)[0].getBoundingClientRect():a[0].getBoundingClientRect();if(void 0!==i){var o=a.offset().top,r=a.offset().left,c=i.from?i.from+o:o,u=i.to?i.to+o:o,h=i.fromX?i.fromX+r:r,d=i.toX?i.toX+r:r;return s.top>=u&&s.top<=c&&s.left>=d&&s.left<=h}var f=e(t).height(),g=e(t).width(),p=n?e(n).height():a.height(),m=n?e(n).width():a.width(),S=1+p/f,_=S,C=p<f?S*(f/p):S,P=1+m/g,v=P,I=m<g?P*(g/m):P,O=[s.top<=f/_,s.bottom>=f/C,s.left<=g/v,s.right>=g/I];if(l.highlightByNextTarget){var M=a.data("mPS2id").tn;if(M){var b=M[0].getBoundingClientRect();"vertical"===l.layout?O=[s.top<=f/2,b.top>f/2,1,1]:"horizontal"===l.layout&&(O=[1,1,s.left<=g/2,b.left>g/2])}}return O[0]&&O[1]&&O[2]&&O[3]}},_scrollTo:function(){p=P._scrollSpeed.call(null),u=l.pageEndSmoothScroll?P._pageEndSmoothScroll.call(null):u;var a=e("html,body"),i=l.autoScrollSpeed?P._autoScrollSpeed.call(null):p,n=a.is(":animated")?l.scrollingEasing:l.scrollEasing,s=e(t).scrollTop(),o=e(t).scrollLeft();switch(h){case"horizontal":o!=u[1]&&(P._callbacks.call(null,"onStart"),a.stop().animate({scrollLeft:u[1]},i,n).promise().then(function(){P._callbacks.call(null,"onComplete")}));break;case"auto":var r;if(s!=u[0]||o!=u[1])if(P._callbacks.call(null,"onStart"),navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/))a.stop().animate({pageYOffset:u[0],pageXOffset:u[1]},{duration:i,easing:n,step:function(e,a){"pageXOffset"==a.prop?r=e:"pageYOffset"==a.prop&&t.scrollTo(r,e)}}).promise().then(function(){P._callbacks.call(null,"onComplete")});else a.stop().animate({scrollTop:u[0],scrollLeft:u[1]},i,n).promise().then(function(){P._callbacks.call(null,"onComplete")});break;default:s!=u[0]&&(P._callbacks.call(null,"onStart"),a.stop().animate({scrollTop:u[0]},i,n).promise().then(function(){P._callbacks.call(null,"onComplete")}))}},_pageEndSmoothScroll:function(){var i=e(a).height(),n=e(a).width(),l=e(t).height(),s=e(t).width();return[i-u[0]<l?i-l:u[0],n-u[1]<s?n-s:u[1]]},_scrollSpeed:function(){var t=l.scrollSpeed;return r&&r.length&&r.add(r.parent()).each(function(){var a=e(this);if(a.attr("class")){var i=a.attr("class").split(" ");for(var n in i)if(String(i[n]).match(/^ps2id-speed-\d+$/)){t=i[n].split("ps2id-speed-")[1];break}}}),parseInt(t)},_autoScrollSpeed:function(){var i=e(t).scrollTop(),n=e(t).scrollLeft(),l=e(a).height(),s=e(a).width(),o=[p+p*Math.floor(Math.abs(u[0]-i)/l*100)/100,p+p*Math.floor(Math.abs(u[1]-n)/s*100)/100];return Math.max.apply(Math,o)},_callbacks:function(e){if(l)switch(this.mPS2id={trigger:o,clicked:r,target:c,scrollTo:{y:u[0],x:u[1]}},e){case"onStart":if(l.appendHash&&t.history&&t.history.pushState&&r&&r.length){var a=r.attr("href"),i="#"+a.substring(a.indexOf("#")+1);i!==t.location.hash&&history.pushState("","",i)}l.onStart.call(null,this.mPS2id);break;case"onComplete":l.onComplete.call(null,this.mPS2id)}},_reset:function(){h=d=f=!1},_isInit:function(){s||C.init.apply(this)},_live:function(){g=setTimeout(function(){l.live?e(P._highlightSelector()).length!==S&&P._setup.call(null):g&&clearTimeout(g),P._live.call(null)},1e3)},_easing:function(){function t(e){var t=7.5625,a=2.75;return e<1/a?t*e*e:e<2/a?t*(e-=1.5/a)*e+.75:e<2.5/a?t*(e-=2.25/a)*e+.9375:t*(e-=2.625/a)*e+.984375}e.easing.easeInQuad=e.easing.easeInQuad||function(e){return e*e},e.easing.easeOutQuad=e.easing.easeOutQuad||function(e){return 1-(1-e)*(1-e)},e.easing.easeInOutQuad=e.easing.easeInOutQuad||function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},e.easing.easeInCubic=e.easing.easeInCubic||function(e){return e*e*e},e.easing.easeOutCubic=e.easing.easeOutCubic||function(e){return 1-Math.pow(1-e,3)},e.easing.easeInOutCubic=e.easing.easeInOutCubic||function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},e.easing.easeInQuart=e.easing.easeInQuart||function(e){return e*e*e*e},e.easing.easeOutQuart=e.easing.easeOutQuart||function(e){return 1-Math.pow(1-e,4)},e.easing.easeInOutQuart=e.easing.easeInOutQuart||function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},e.easing.easeInQuint=e.easing.easeInQuint||function(e){return e*e*e*e*e},e.easing.easeOutQuint=e.easing.easeOutQuint||function(e){return 1-Math.pow(1-e,5)},e.easing.easeInOutQuint=e.easing.easeInOutQuint||function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},e.easing.easeInExpo=e.easing.easeInExpo||function(e){return 0===e?0:Math.pow(2,10*e-10)},e.easing.easeOutExpo=e.easing.easeOutExpo||function(e){return 1===e?1:1-Math.pow(2,-10*e)},e.easing.easeInOutExpo=e.easing.easeInOutExpo||function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},e.easing.easeInSine=e.easing.easeInSine||function(e){return 1-Math.cos(e*Math.PI/2)},e.easing.easeOutSine=e.easing.easeOutSine||function(e){return Math.sin(e*Math.PI/2)},e.easing.easeInOutSine=e.easing.easeInOutSine||function(e){return-(Math.cos(Math.PI*e)-1)/2},e.easing.easeInCirc=e.easing.easeInCirc||function(e){return 1-Math.sqrt(1-Math.pow(e,2))},e.easing.easeOutCirc=e.easing.easeOutCirc||function(e){return Math.sqrt(1-Math.pow(e-1,2))},e.easing.easeInOutCirc=e.easing.easeInOutCirc||function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},e.easing.easeInElastic=e.easing.easeInElastic||function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*(2*Math.PI/3))},e.easing.easeOutElastic=e.easing.easeOutElastic||function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*(2*Math.PI/3))+1},e.easing.easeInOutElastic=e.easing.easeInOutElastic||function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*(2*Math.PI/4.5))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*(2*Math.PI/4.5))/2+1},e.easing.easeInBack=e.easing.easeInBack||function(e){return 2.70158*e*e*e-1.70158*e*e},e.easing.easeOutBack=e.easing.easeOutBack||function(e){return 1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2)},e.easing.easeInOutBack=e.easing.easeInOutBack||function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-2.5949095)/2:(Math.pow(2*e-2,2)*(3.5949095*(2*e-2)+2.5949095)+2)/2},e.easing.easeInBounce=e.easing.easeInBounce||function(e){return 1-t(1-e)},e.easing.easeOutBounce=e.easing.easeOutBounce||t,e.easing.easeInOutBounce=e.easing.easeInOutBounce||function(e){return e<.5?(1-t(1-2*e))/2:(1+t(2*e-1))/2}}};P._easing.call(),e.fn.mPageScroll2id=function(t){return C[t]?C[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):C.init.apply(this,arguments)},e.mPageScroll2id=function(t){return C[t]?C[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):C.init.apply(this,arguments)},e.mPageScroll2id.defaults=m}(jQuery,window,document);